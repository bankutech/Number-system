<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Number Systems Learning</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
        }

        .header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        /* Tab Navigation */
        .tab-nav {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 30px;
            background: rgba(255,255,255,0.95);
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .tab-btn {
            padding: 12px 24px;
            margin: 5px;
            border: none;
            border-radius: 10px;
            background: linear-gradient(135deg, #6c757d, #495057);
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .tab-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .tab-btn.active {
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
        }

        /* Tab Content */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Cards */
        .card {
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }

        .card h2 {
            color: #7c3aed;
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 30px;
        }

        .card h3 {
            color: #6366f1;
            font-size: 1.5rem;
            margin-bottom: 15px;
        }

        /* Grid Layouts */
        .grid {
            display: grid;
            gap: 30px;
        }

        .grid-2 {
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
        }

        .grid-3 {
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }

        /* Info Box */
        .info-box {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            color: #7c2d12;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border-left: 5px solid #7c3aed;
        }

        .info-box h3 {
            color: #7c2d12;
            margin-bottom: 10px;
        }

        /* Input Section */
        .input-section {
            background: linear-gradient(135deg, #fef3c7, #fed7aa);
            padding: 25px;
            border-radius: 15px;
            border: 2px solid #f59e0b;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #374151;
        }

        .form-input {
            width: 100%;
            padding: 12px 16px;
            font-size: 1.1rem;
            border: 2px solid #d1d5db;
            border-radius: 10px;
            transition: border-color 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: #7c3aed;
            box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.1);
        }

        .form-select {
            width: 100%;
            padding: 12px 16px;
            font-size: 1.1rem;
            border: 2px solid #d1d5db;
            border-radius: 10px;
            background: white;
        }

        /* Buttons */
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn-primary {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
        }

        .btn-full {
            width: 100%;
        }

        .btn-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
        }

        .btn-add { background: linear-gradient(135deg, #10b981, #059669); color: white; }
        .btn-subtract { background: linear-gradient(135deg, #ef4444, #dc2626); color: white; }
        .btn-multiply { background: linear-gradient(135deg, #3b82f6, #2563eb); color: white; }
        .btn-divide { background: linear-gradient(135deg, #f59e0b, #d97706); color: white; }

        /* Result Cards */
        .result-card {
            background: linear-gradient(135deg, #2d1b69, #11998e);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 15px 0;
            box-shadow: 0 8px 25px rgba(45, 27, 105, 0.3);
        }

        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .result-title {
            font-size: 1.2rem;
            font-weight: 600;
        }

        .result-subtitle {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .result-number {
            font-size: 2rem;
            font-weight: bold;
            font-family: 'Courier New', monospace;
        }

        .result-explanation {
            background: rgba(255,255,255,0.2);
            padding: 15px;
            border-radius: 10px;
            margin-top: 10px;
            font-size: 0.9rem;
        }

        /* Step Cards */
        .step-card {
            background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin: 10px 0;
        }

        /* Learning Sections */
        .learn-section {
            background: linear-gradient(135deg, #e0e7ff, #c7d2fe);
            padding: 25px;
            border-radius: 15px;
            border-left: 4px solid #6366f1;
            margin: 20px 0;
        }

        .learn-section h3 {
            color: #3730a3;
            margin-bottom: 15px;
        }

        .learn-section p {
            margin-bottom: 10px;
        }

        .learn-subsection {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
        }

        .learn-subsection h4 {
            color: #374151;
            margin-bottom: 10px;
        }

        /* Code Display */
        .code-display {
            background: #1f2937;
            color: #10b981;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
            overflow-x: auto;
        }

        /* Reference Table */
        .reference-table {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin: 20px 0;
        }

        .table-cell {
            background: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border: 2px solid #e5e7eb;
        }

        .table-header {
            background: #6366f1;
            color: white;
            font-weight: 600;
        }

        /* Practice Sections */
        .practice-section {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            padding: 25px;
            border-radius: 15px;
            border: 2px solid #f59e0b;
            margin: 20px 0;
        }

        .practice-section h3 {
            color: #92400e;
            margin-bottom: 15px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .header h1 {
                font-size: 2rem;
            }

            .tab-nav {
                flex-direction: column;
            }

            .tab-btn {
                margin: 5px 0;
            }

            .grid-2, .grid-3 {
                grid-template-columns: 1fr;
            }

            .result-header {
                flex-direction: column;
                text-align: center;
            }

            .result-number {
                font-size: 1.5rem;
                margin-top: 10px;
            }
        }

        /* Utility Classes */
        .text-center { text-align: center; }
        .mb-20 { margin-bottom: 20px; }
        .mt-20 { margin-top: 20px; }
        .font-mono { font-family: 'Courier New', monospace; }
        .font-bold { font-weight: bold; }
        .text-sm { font-size: 0.9rem; }
        .space-y > * + * { margin-top: 10px; }

        /* Animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .tab-content.active {
            animation: fadeIn 0.3s ease-in-out;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Number Systems</h1>
            <p>Learn how numbers work in different systems - made simple!</p>
        </div>
        
        <!-- Tab Navigation -->
        <div class="tab-nav">
            <button onclick="showTab('convert')" class="tab-btn active">Conversion Numbers</button>
            <button onclick="showTab('learn')" class="tab-btn">Learn Basics</button>
            <button onclick="showTab('practice')" class="tab-btn">Binary Arithmetic</button>
            <button onclick="showTab('codes')" class="tab-btn">Special Codes</button>
        </div>

        <!-- Convert Numbers Tab -->
        <div id="convert" class="tab-content active">
            <div class="card">
                <h2>üîÑ Number Converter</h2>
                
                <div class="info-box">
                    <h3>üí° How it works:</h3>
                    <p>Enter any number below and see how it looks in all different number systems! Each system uses different symbols to represent the same value.</p>
                </div>
                
                <div class="grid grid-2">
                    <!-- Input Section -->
                    <div class="input-section">
                        <h3>üìù Enter Your Number</h3>
                        
                        <div class="form-group">
                            <label>Type your number here:</label>
                            <input type="text" id="inputNumber" placeholder="Try: 42 or 1.001" class="form-input">
                        </div>
                        
                        <div class="form-group">
                            <label>What type of number is this?</label>
                            <select id="inputBase" class="form-select">
                                <option value="10">üî¢ Regular Number (like 42)</option>
                                <option value="2">üíª Binary (like 1010)</option>
                                <option value="8">üéØ Octal (like 52)</option>
                                <option value="16">üî• Hex (like 2A)</option>
                            </select>
                        </div>
                        
                        <button onclick="convertNumber()" class="btn btn-primary btn-full">
                            ‚ú® Convert to All Systems
                        </button>
                    </div>
                    
                    <!-- Results Section -->
                    <div>
                        <h3>üéØ Results in All Systems</h3>
                        
                        <!-- Regular Number -->
                        <div class="result-card">
                            <div class="result-header">
                                <div>
                                    <div class="result-title">üî¢ Regular Number</div>
                                    <div class="result-subtitle">The way we normally count</div>
                                </div>
                                <div class="result-number" id="decimalResult">-</div>
                            </div>
                        </div>
                        
                        <!-- Binary -->
                        <div class="result-card">
                            <div class="result-header">
                                <div>
                                    <div class="result-title">üíª Binary (Computer Language)</div>
                                    <div class="result-subtitle">Only uses 0s and 1s</div>
                                </div>
                                <div class="result-number" id="binaryResult">-</div>
                            </div>
                            <div class="result-explanation" id="binarySteps">Enter a number to see how it converts!</div>
                        </div>
                        
                        <!-- Octal -->
                        <div class="result-card">
                            <div class="result-header">
                                <div>
                                    <div class="result-title">üéØ Octal</div>
                                    <div class="result-subtitle">Uses digits 0-7</div>
                                </div>
                                <div class="result-number" id="octalResult">-</div>
                            </div>
                            <div class="result-explanation" id="octalSteps">Enter a number to see how it converts!</div>
                        </div>
                        
                        <!-- Hexadecimal -->
                        <div class="result-card">
                            <div class="result-header">
                                <div>
                                    <div class="result-title">üî• Hexadecimal</div>
                                    <div class="result-subtitle">Uses 0-9 and A-F</div>
                                </div>
                                <div class="result-number" id="hexResult">-</div>
                            </div>
                            <div class="result-explanation" id="hexSteps">Enter a number to see how it converts!</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Learn Basics Tab -->
        <div id="learn" class="tab-content">
            <div class="card">
                <h2>Understanding Number Systems</h2>
                
                <div class="space-y">
                    <!-- Introduction -->
                    <div class="learn-section">
                        <h3>üéØ What Are Number Systems?</h3>
                        <p>A number system is a way of representing numbers using a specific set of symbols. Different systems use different amounts of symbols and follow different rules.</p>
                        <div class="learn-subsection">
                            <h4>Key Concept - Base/Radix:</h4>
                            <p>The "base" tells us how many different symbols the system uses. For example:</p>
                            <ul>
                                <li>Base-10 (Decimal) uses 10 symbols: 0,1,2,3,4,5,6,7,8,9</li>
                                <li>Base-2 (Binary) uses 2 symbols: 0,1</li>
                                <li>Base-8 (Octal) uses 8 symbols: 0,1,2,3,4,5,6,7</li>
                                <li>Base-16 (Hex) uses 16 symbols: 0,1,2,3,4,5,6,7,8,9,A,B,C,D,E,F</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Decimal System -->
                    <div class="learn-section">
                        <h3>üî¢ Decimal System (Base-10)</h3>
                        <p>This is the number system we use every day. It's called "decimal" because it uses 10 different symbols (digits).</p>
                        
                        <div class="learn-subsection">
                            <h4>Why Base-10?</h4>
                            <p>Humans likely developed base-10 because we have 10 fingers! It's natural for us to count in groups of 10.</p>
                        </div>

                        <div class="learn-subsection">
                            <h4>Positional Value System:</h4>
                            <p>Each position represents a power of 10:</p>
                            <div class="code-display text-center">
                                <div>Position: ... 10¬≥ 10¬≤ 10¬π 10‚Å∞</div>
                                <div>Value: ... 1000 100 10 1</div>
                                <div style="color: #8b5cf6; margin-top: 10px;">Example: 1234 = 1√ó1000 + 2√ó100 + 3√ó10 + 4√ó1</div>
                            </div>
                        </div>

                        <div class="learn-subsection">
                            <h4>Real-world uses:</h4>
                            <ul>
                                <li>Money and financial calculations</li>
                                <li>Measurements (meters, kilograms, etc.)</li>
                                <li>Time (minutes, seconds)</li>
                                <li>Everyday counting and arithmetic</li>
                            </ul>
                        </div>
                    </div>
                    
                    <!-- Binary System -->
                    <div class="learn-section">
                        <h3>üíª Binary System (Base-2)</h3>
                        <p>The foundation of all digital technology! Binary uses only two symbols: 0 and 1, representing OFF and ON states.</p>
                        
                        <div class="learn-subsection">
                            <h4>Why Binary for Computers?</h4>
                            <p>Electronic circuits can easily represent two states:</p>
                            <ul>
                                <li>0 = No electrical current (OFF)</li>
                                <li>1 = Electrical current present (ON)</li>
                            </ul>
                            <p>This makes binary perfect for digital electronics!</p>
                        </div>

                        <div class="learn-subsection">
                            <h4>Positional Value System:</h4>
                            <p>Each position represents a power of 2:</p>
                            <div class="code-display text-center">
                                <div>Position: 2¬≥ 2¬≤ 2¬π 2‚Å∞</div>
                                <div>Value: 8 4 2 1</div>
                                <div style="color: #3b82f6; margin-top: 10px;">Example: 1010 = 1√ó8 + 0√ó4 + 1√ó2 + 0√ó1 = 10</div>
                            </div>
                        </div>

                        <div class="learn-subsection">
                            <h4>Real-world uses:</h4>
                            <ul>
                                <li>Computer processors and memory</li>
                                <li>Digital communications</li>
                                <li>Image and video encoding</li>
                                <li>Internet protocols and data transmission</li>
                                <li>Programming and software development</li>
                            </ul>
                        </div>
                    </div>
                    
                    <!-- Octal System -->
                    <div class="learn-section">
                        <h3>üéØ Octal System (Base-8)</h3>
                        <p>Uses 8 symbols: 0, 1, 2, 3, 4, 5, 6, 7. Notice there's no 8 or 9 in octal!</p>
                        
                        <div class="learn-subsection">
                            <h4>Why Octal?</h4>
                            <p>Octal was popular in early computing because:</p>
                            <ul>
                                <li>8 = 2¬≥, so each octal digit represents exactly 3 binary digits</li>
                                <li>It's more compact than binary but easier to convert than decimal</li>
                                <li>Early computers often used word sizes that were multiples of 3 bits</li>
                            </ul>
                        </div>

                        <div class="learn-subsection">
                            <h4>Positional Value System:</h4>
                            <p>Each position represents a power of 8:</p>
                            <div class="code-display text-center">
                                <div>Position: 8¬≥ 8¬≤ 8¬π 8‚Å∞</div>
                                <div>Value: 512 64 8 1</div>
                                <div style="color: #10b981; margin-top: 10px;">Example: 123 = 1√ó64 + 2√ó8 + 3√ó1 = 83</div>
                            </div>
                        </div>

                        <div class="learn-subsection">
                            <h4>Real-world uses:</h4>
                            <ul>
                                <li>Unix/Linux file permissions (chmod 755)</li>
                                <li>Some embedded systems programming</li>
                                <li>Digital signal processing</li>
                                <li>Legacy computer systems</li>
                            </ul>
                        </div>
                    </div>
                    
                    <!-- Hexadecimal System -->
                    <div class="learn-section">
                        <h3> Hexadecimal System (Base-16)</h3>
                        <p>Uses 16 symbols: 0-9 for values 0-9, and A-F for values 10-15. It's like having extra "digits" beyond 9!</p>
                        
                        <div class="learn-subsection">
                            <h4>Why Hexadecimal?</h4>
                            <p>Hex is extremely popular in computing because:</p>
                            <ul>
                                <li>16 = 2‚Å¥, so each hex digit represents exactly 4 binary digits</li>
                                <li>Much more compact than binary (1 hex digit = 4 binary digits)</li>
                                <li>Easy conversion to/from binary</li>
                                <li>Perfect for representing byte values (1 byte = 2 hex digits)</li>
                            </ul>
                        </div>

                        <div class="learn-subsection">
                            <h4>Hex Digit Values:</h4>
                            <div class="reference-table">
                                <div class="table-cell">0=0</div>
                                <div class="table-cell">1=1</div>
                                <div class="table-cell">2=2</div>
                                <div class="table-cell">3=3</div>
                                <div class="table-cell">4=4</div>
                                <div class="table-cell">5=5</div>
                                <div class="table-cell">6=6</div>
                                <div class="table-cell">7=7</div>
                                <div class="table-cell">8=8</div>
                                <div class="table-cell">9=9</div>
                                <div class="table-cell" style="background: #fed7aa;">A=10</div>
                                <div class="table-cell" style="background: #fed7aa;">B=11</div>
                                <div class="table-cell" style="background: #fed7aa;">C=12</div>
                                <div class="table-cell" style="background: #fed7aa;">D=13</div>
                                <div class="table-cell" style="background: #fed7aa;">E=14</div>
                                <div class="table-cell" style="background: #fed7aa;">F=15</div>
                            </div>
                        </div>

                        <div class="learn-subsection">
                            <h4>Positional Value System:</h4>
                            <p>Each position represents a power of 16:</p>
                            <div class="code-display text-center">
                                <div>Position: 16¬≤ 16¬π 16‚Å∞</div>
                                <div>Value: 256 16 1</div>
                                <div style="color: #f59e0b; margin-top: 10px;">Example: 1A3 = 1√ó256 + 10√ó16 + 3√ó1 = 419</div>
                            </div>
                        </div>

                        <div class="learn-subsection">
                            <h4>Real-world uses:</h4>
                            <ul>
                                <li>Web colors (#FF0000 = red, #00FF00 = green)</li>
                                <li>Memory addresses in programming</li>
                                <li>MAC addresses for network devices</li>
                                <li>Assembly language programming</li>
                                <li>Debugging and system programming</li>
                                <li>Cryptography and hash functions</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Conversion Tips -->
                    <div class="learn-section">
                        <h3> Quick Conversion Tips</h3>
                        
                        <div class="grid grid-2">
                            <div class="learn-subsection">
                                <h4>Binary ‚Üî Hex:</h4>
                                <p>Group binary digits in sets of 4, each group = 1 hex digit</p>
                                <p class="text-sm">1010 1100 = AC in hex</p>
                            </div>
                            
                            <div class="learn-subsection">
                                <h4>Binary ‚Üî Octal:</h4>
                                <p>Group binary digits in sets of 3, each group = 1 octal digit</p>
                                <p class="text-sm">101 011 = 53 in octal</p>
                            </div>
                            
                            <div class="learn-subsection">
                                <h4>Powers of 2:</h4>
                                <p>2¬π=2, 2¬≤=4, 2¬≥=8, 2‚Å¥=16, 2‚Åµ=32, 2‚Å∂=64, 2‚Å∑=128, 2‚Å∏=256</p>
                            </div>
                            
                            <div class="learn-subsection">
                                <h4>Common Values:</h4>
                                <p>255 = FF (hex) = 11111111 (binary) = 377 (octal)</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Practice Math Tab -->
        <div id="practice" class="tab-content">
            <!-- Basic Binary Math -->
            <div class="card">
                <h2>Binary Arithmetic</h2>
                
                <div class="info-box">
                    <h3>üí° What is Binary Math?</h3>
                    <p>Just like regular math, but using only 0s and 1s! Computers do all their math this way.</p>
                </div>
                
                <div class="grid grid-2">
                    <div class="input-section">
                        <h3>üìù Enter Binary Numbers</h3>
                        
                        <div class="form-group">
                            <label>First number (0s, 1s, and decimal points):</label>
                            <input type="text" id="binary1" placeholder="Try: 1010.11" class="form-input">
                        </div>
                        
                        <div class="form-group">
                            <label>Second number (0s, 1s, and decimal points):</label>
                            <input type="text" id="binary2" placeholder="Try: 1100.01" class="form-input">
                        </div>
                        
                        <div class="btn-grid">
                            <button onclick="binaryMath('add')" class="btn btn-add">‚ûï Add</button>
                            <button onclick="binaryMath('subtract')" class="btn btn-subtract">‚ûñ Subtract</button>
                            <button onclick="binaryMath('multiply')" class="btn btn-multiply">‚úñÔ∏è Multiply</button>
                            <button onclick="binaryMath('divide')" class="btn btn-divide">‚ûó Divide</button>
                        </div>
                    </div>
                    
                    <div>
                        <h3> Math Result</h3>
                        <div class="result-card">
                            <div class="mb-20">
                                <h4 class="font-bold"> What we calculated:</h4>
                                <p id="mathOperation">Enter numbers and pick an operation!</p>
                            </div>
                            <div class="mb-20">
                                <h4 class="font-bold">üíª Binary Answer:</h4>
                                <p class="result-number" id="binaryMathResult">-</p>
                            </div>
                            <div>
                                <h4 class="font-bold">üî¢ Regular Number Answer:</h4>
                                <p class="result-number" id="decimalMathResult">-</p>
                            </div>
                            <div id="mathSteps" class="result-explanation" style="display: none;">
                                <h4 class="font-bold">üìù Step-by-Step:</h4>
                                <div id="mathStepsContent"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Advanced Binary Operations -->
            <div class="card">
                <h2>‚ö° Advanced Binary Operations</h2>
                
                <div class="grid grid-2">
                    <!-- Binary Multiplication -->
                    <div class="practice-section">
                        <h3>‚úñÔ∏è Binary Multiplication</h3>
                        <p class="text-sm">Step-by-step binary multiplication</p>
                        
                        <div class="form-group">
                            <input type="text" id="multA" placeholder="Try: 1011.1" class="form-input text-center">
                        </div>
                        <div class="form-group">
                            <input type="text" id="multB" placeholder="Try: 101.01" class="form-input text-center">
                        </div>
                        <button onclick="binaryMultiplication()" class="btn btn-primary btn-full">Show Multiplication Steps</button>
                        
                        <div id="multResult" class="mt-20 learn-subsection">
                            <h4>Binary Multiplication Rules:</h4>
                            <p>0 √ó 0 = 0<br>0 √ó 1 = 0<br>1 √ó 0 = 0<br>1 √ó 1 = 1</p>
                        </div>
                    </div>

                    <!-- Binary Division -->
                    <div class="practice-section">
                        <h3>‚ûó Binary Division</h3>
                        <p class="text-sm">Long division in binary</p>
                        
                        <div class="form-group">
                            <input type="text" id="divA" placeholder="Try: 1100.1" class="form-input text-center">
                        </div>
                        <div class="form-group">
                            <input type="text" id="divB" placeholder="Try: 11.01" class="form-input text-center">
                        </div>
                        <button onclick="binaryDivision()" class="btn btn-primary btn-full">Show Division Steps</button>
                        
                        <div id="divResult" class="mt-20 learn-subsection">
                            <h4>Binary Division:</h4>
                            <p>Just like long division, but simpler - only 0s and 1s!</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 1's and 2's Complement -->
            <div class="card">
                <h2>Binary Complement </h2>
                
                <div class="info-box">
                    <h3>What are Complements?</h3>
                    <p>Complements are ways to represent negative numbers in binary. They're essential for computer arithmetic!</p>
                </div>

                <div class="grid grid-3">
                    <!-- 1's Complement -->
                    <div class="practice-section">
                        <h3>1's Complement</h3>
                        <p class="text-sm">Flip all bits: 0‚Üí1, 1‚Üí0</p>
                        
                        <div class="form-group">
                            <input type="text" id="onesInput" placeholder="Try: 1010" class="form-input text-center">
                        </div>
                        <button onclick="calculateOnesComplement()" class="btn btn-primary btn-full">Find 1's Complement</button>
                        
                        <div id="onesResult" class="mt-20 learn-subsection">
                            <h4>How 1's Complement Works:</h4>
                            <p>Simply flip every bit - change 0 to 1 and 1 to 0!</p>
                        </div>
                    </div>

                    <!-- 2's Complement -->
                    <div class="practice-section">
                        <h3>‚ûï 2's Complement</h3>
                        <p class="text-sm">1's complement + 1</p>
                        
                        <div class="form-group">
                            <input type="text" id="twosInput" placeholder="Try: 1010" class="form-input text-center">
                        </div>
                        <button onclick="calculateTwosComplement()" class="btn btn-primary btn-full">Find 2's Complement</button>
                        
                        <div id="twosResult" class="mt-20 learn-subsection">
                            <h4>How 2's Complement Works:</h4>
                            <p>1. Find 1's complement<br>2. Add 1 to the result</p>
                        </div>
                    </div>

                    <!-- Binary Subtraction Methods -->
                    <div class="practice-section">
                        <h3>‚ûñ Binary Subtraction</h3>
                        <p class="text-sm">Choose your subtraction method</p>
                        
                        <div class="form-group">
                            <input type="text" id="subA" placeholder="A: 1100.11" class="form-input text-center">
                        </div>
                        <div class="form-group">
                            <input type="text" id="subB" placeholder="B: 1010.01" class="form-input text-center">
                        </div>
                        
                        <div class="btn-grid">
                            <button onclick="directBinarySubtraction()" class="btn btn-primary text-sm">Direct Method</button>
                            <button onclick="onesComplementSubtraction()" class="btn btn-primary text-sm">1's Complement</button>
                            <button onclick="twosComplementSubtraction()" class="btn btn-primary text-sm">2's Complement</button>
                        </div>
                        
                        <div id="subResult" class="mt-20 learn-subsection">
                            <h4>Binary Subtraction Methods:</h4>
                            <p>Enter two binary numbers and choose a method to see detailed steps!</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Parity Bit -->
            <div class="card">
                <h2>Parity Bit Calculator</h2>
                
                <div class="info-box">
                    <h3>üí° What is a Parity Bit?</h3>
                    <p>A parity bit is an extra bit added to data to detect errors during transmission. It helps ensure data integrity!</p>
                </div>

                <div class="grid grid-2">
                    <div class="practice-section">
                        <h3>Even Parity</h3>
                        <p class="text-sm">Makes total number of 1s even</p>
                        
                        <div class="form-group">
                            <input type="text" id="evenParityInput" placeholder="Try: 1011" class="form-input text-center">
                        </div>
                        <button onclick="calculateEvenParity()" class="btn btn-primary btn-full">Calculate Even Parity</button>
                        
                        <div id="evenParityResult" class="mt-20 learn-subsection">
                            <h4>Even Parity Rule:</h4>
                            <p>Add a bit so the total number of 1s is even</p>
                        </div>
                    </div>

                    <div class="practice-section">
                        <h3> Odd Parity</h3>
                        <p class="text-sm">Makes total number of 1s odd</p>
                        
                        <div class="form-group">
                            <input type="text" id="oddParityInput" placeholder="Try: 1011" class="form-input text-center">
                        </div>
                        <button onclick="calculateOddParity()" class="btn btn-primary btn-full">Calculate Odd Parity</button>
                        
                        <div id="oddParityResult" class="mt-20 learn-subsection">
                            <h4>Odd Parity Rule:</h4>
                            <p>Add a bit so the total number of 1s is odd</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- BCD Operations -->
            <div class="card">
                <h2>üî¢ BCD Addition & Subtraction</h2>
                
                <div class="info-box">
                    <h3>üí° What is BCD Math?</h3>
                    <p>Enter decimal numbers (like 12.34 + 56.78) and see how computers do BCD arithmetic with each digit converted to 4-bit binary!</p>
                </div>

                <div class="grid grid-2">
                    <div class="practice-section">
                        <h3>‚ûï BCD Addition</h3>
                        <p class="text-sm">Add decimal numbers using BCD arithmetic</p>
                        
                        <div class="form-group">
                            <label>First decimal number:</label>
                            <input type="text" id="bcdAddA" placeholder="Try: 12.34" class="form-input text-center">
                        </div>
                        <div class="form-group">
                            <label>Second decimal number:</label>
                            <input type="text" id="bcdAddB" placeholder="Try: 56.78" class="form-input text-center">
                        </div>
                        <button onclick="bcdAddition()" class="btn btn-primary btn-full">Add Using BCD</button>
                        
                        <div id="bcdAddResult" class="mt-20 learn-subsection">
                            <h4>BCD Addition Rules:</h4>
                            <p>Each decimal digit becomes 4 bits, then we add with correction when needed!</p>
                        </div>
                    </div>

                    <div class="practice-section">
                        <h3>‚ûñ BCD Subtraction</h3>
                        <p class="text-sm">Subtract decimal numbers using BCD arithmetic</p>
                        
                        <div class="form-group">
                            <label>First decimal number:</label>
                            <input type="text" id="bcdSubA" placeholder="Try: 87.65" class="form-input text-center">
                        </div>
                        <div class="form-group">
                            <label>Second decimal number:</label>
                            <input type="text" id="bcdSubB" placeholder="Try: 23.41" class="form-input text-center">
                        </div>
                        <button onclick="bcdSubtraction()" class="btn btn-primary btn-full">Subtract Using BCD</button>
                        
                        <div id="bcdSubResult" class="mt-20 learn-subsection">
                            <h4>BCD Subtraction:</h4>
                            <p>Uses 10's complement method for each decimal digit!</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Special Codes Tab -->
        <div id="codes" class="tab-content">
            <div class="card">
                <h2>Special Computer Codes</h2>
                
                <div class="info-box">
                    <h3>üí° What are these?</h3>
                    <p>These are special ways computers store and process different types of information like letters and numbers.</p>
                </div>
                
                <div class="grid grid-3">
                    <!-- ASCII Code -->
                    <div class="practice-section">
                        <h3>ASCII Code</h3>
                        <p class="text-sm">How computers store letters and symbols</p>
                        
                        <div class="form-group">
                            <input type="text" id="asciiInput" placeholder="Type: A" maxlength="1" class="form-input text-center">
                        </div>
                        <button onclick="convertASCII()" class="btn btn-primary btn-full">Convert Letter</button>
                        
                        <div id="asciiResult" class="mt-20 learn-subsection">
                            Enter a letter to see its code!
                        </div>
                    </div>
                    
                    <!-- BCD Code -->
                    <div class="practice-section">
                        <h3>BCD Code</h3>
                        <p class="text-sm">Convert decimal numbers (with decimal points) to BCD binary</p>
                        
                        <div class="form-group">
                            <label>Enter decimal number:</label>
                            <input type="text" id="bcdInput" placeholder="Try: 123.45 or 67.89" class="form-input text-center">
                        </div>
                        <button onclick="convertBCD()" class="btn btn-primary btn-full">Convert to BCD</button>
                        
                        <div id="bcdResult" class="mt-20 learn-subsection">
                            Enter a decimal number to see BCD conversion!
                        </div>
                    </div>
                    
                    <!-- Gray Code -->
                    <div class="practice-section">
                        <h3>‚ö° Gray Code</h3>
                        <p class="text-sm">Special binary code where only one bit changes at a time</p>
                        
                        <div class="form-group">
                            <input type="text" id="grayInput" placeholder="Try: 1010" class="form-input text-center">
                        </div>
                        <button onclick="convertGray()" class="btn btn-primary btn-full">Convert to Gray</button>
                        
                        <div id="grayResult" class="mt-20 learn-subsection">
                            Enter binary to see Gray code!
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.getElementById(tabName).classList.add('active');
            
            // Update button styles
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
        }

        function convertNumber() {
            const input = document.getElementById('inputNumber').value.trim();
            const inputBase = parseInt(document.getElementById('inputBase').value);
            
            if (!input) {
                alert('Please enter a number first! üòä');
                return;
            }
            
            try {
                // Validate input first
                if (!isValidInput(input, inputBase)) {
                    return;
                }
                
                // Check if input has decimal point
                if (input.includes('.')) {
                    convertDecimalNumber(input, inputBase);
                    return;
                }
                
                // Convert to decimal first
                let decimal = parseInt(input, inputBase);
                
                if (isNaN(decimal) || decimal < 0) {
                    alert('Oops! That doesn\'t look like a valid number for the selected type. ü§î');
                    return;
                }
                
                // Show results
                document.getElementById('decimalResult').textContent = decimal;
                
                const binary = decimal.toString(2);
                document.getElementById('binaryResult').textContent = binary;
                document.getElementById('binarySteps').textContent = getSimpleSteps(decimal, 2);
                
                const octal = decimal.toString(8);
                document.getElementById('octalResult').textContent = octal;
                document.getElementById('octalSteps').textContent = getSimpleSteps(decimal, 8);
                
                const hex = decimal.toString(16).toUpperCase();
                document.getElementById('hexResult').textContent = hex;
                document.getElementById('hexSteps').textContent = getSimpleSteps(decimal, 16);
                
            } catch (error) {
                alert('Something went wrong! Please try again. üòÖ');
                console.error('Conversion error:', error);
            }
        }

        function isValidInput(input, base) {
            const patterns = {
                2: /^[01]+(\.[01]+)?$/,
                8: /^[0-7]+(\.[0-7]+)?$/,
                10: /^\d+(\.\d+)?$/,
                16: /^[0-9A-Fa-f]+(\.[0-9A-Fa-f]+)?$/
            };
            
            const messages = {
                2: 'Binary numbers can only use 0 and 1! üíª',
                8: 'Octal numbers can only use digits 0-7! üéØ',
                10: 'Regular numbers can only use digits 0-9! üî¢',
                16: 'Hex numbers can use 0-9 and A-F! üî•'
            };
            
            if (!patterns[base].test(input)) {
                alert(messages[base]);
                return false;
            }
            return true;
        }

        function convertDecimalNumber(input, inputBase) {
            // Validate input format
            if (!isValidInput(input, inputBase)) {
                return;
            }
            
            const [integerPart, fractionalPart] = input.split('.');
            
            // Convert integer part
            let decimalInteger = parseInt(integerPart, inputBase);
            
            // Convert fractional part
            let decimalFractional = 0;
            if (fractionalPart) {
                for (let i = 0; i < fractionalPart.length; i++) {
                    const digit = fractionalPart[i];
                    const digitValue = inputBase === 16 && isNaN(digit) ? 
                        digit.toUpperCase().charCodeAt(0) - 55 : parseInt(digit);
                    decimalFractional += digitValue * Math.pow(inputBase, -(i + 1));
                }
            }
            
            const totalDecimal = decimalInteger + decimalFractional;
            
            // Show decimal result
            document.getElementById('decimalResult').textContent = totalDecimal.toFixed(6);
            
            // Convert to other bases
            const binaryResult = convertDecimalToBase(totalDecimal, 2);
            document.getElementById('binaryResult').textContent = binaryResult;
            document.getElementById('binarySteps').textContent = getDecimalSteps(totalDecimal, 2);
            
            const octalResult = convertDecimalToBase(totalDecimal, 8);
            document.getElementById('octalResult').textContent = octalResult;
            document.getElementById('octalSteps').textContent = getDecimalSteps(totalDecimal, 8);
            
            const hexResult = convertDecimalToBase(totalDecimal, 16);
            document.getElementById('hexResult').textContent = hexResult;
            document.getElementById('hexSteps').textContent = getDecimalSteps(totalDecimal, 16);
        }

        function convertDecimalToBase(decimal, base) {
            const integerPart = Math.floor(decimal);
            const fractionalPart = decimal - integerPart;
            
            // Convert integer part
            let integerResult = integerPart.toString(base).toUpperCase();
            
            // Convert fractional part
            let fractionalResult = '';
            let temp = fractionalPart;
            let precision = 6; // Limit to 6 decimal places
            
            while (temp > 0 && precision > 0) {
                temp *= base;
                const digit = Math.floor(temp);
                fractionalResult += base === 16 && digit > 9 ? 
                    String.fromCharCode(55 + digit) : digit.toString();
                temp -= digit;
                precision--;
            }
            
            return fractionalResult ? `${integerResult}.${fractionalResult}` : integerResult;
        }

        function getDecimalSteps(decimal, base) {
            const integerPart = Math.floor(decimal);
            const fractionalPart = decimal - integerPart;
            
            let steps = `Integer part: ${integerPart} ‚Üí ${integerPart.toString(base).toUpperCase()}`;
            
            if (fractionalPart > 0) {
                steps += ` | Fractional part: multiply by ${base} repeatedly`;
                let temp = fractionalPart;
                let count = 0;
                while (temp > 0 && count < 3) {
                    temp *= base;
                    const digit = Math.floor(temp);
                    steps += ` ‚Üí ${temp.toFixed(3)} (take ${digit})`;
                    temp -= digit;
                    count++;
                }
                if (temp > 0) steps += ' ‚Üí ...';
            }
            
            return steps;
        }

        function getSimpleSteps(decimal, base, operation) {
            if (decimal === 0) return 'Zero is zero in any system! üòÑ';
            if (decimal < base) return `${decimal} is less than ${base}, so it stays ${decimal}`;
            
            let steps = [];
            let temp = decimal;
            let count = 0;
            
            while (temp > 0 && count < 3) {
                const quotient = Math.floor(temp / base);
                const remainder = temp % base;
                const remainderDisplay = base === 16 && remainder > 9 ? 
                    `${remainder} (which is ${String.fromCharCode(65 + remainder - 10)})` : remainder;
                
                steps.push(`${temp} √∑ ${base} = ${quotient} remainder ${remainderDisplay}`);
                temp = quotient;
                count++;
            }
            
            if (temp > 0) steps.push('... (continue dividing)');
            return steps.join(' ‚Üí ');
        }

        // Binary conversion functions
        function convertBinaryToDecimal(binary) {
            if (!binary || binary === '0') return 0;
            
            // Handle negative numbers
            const isNegative = binary.startsWith('-');
            if (isNegative) binary = binary.substring(1);
            
            const [integerPart, fractionalPart] = binary.split('.');
            
            // Convert integer part
            let decimal = parseInt(integerPart || '0', 2) || 0;
            
            // Convert fractional part
            if (fractionalPart) {
                for (let i = 0; i < fractionalPart.length; i++) {
                    if (fractionalPart[i] === '1') {
                        decimal += Math.pow(2, -(i + 1));
                    }
                }
            }
            
            return isNegative ? -decimal : decimal;
        }

        function convertDecimalToBinary(decimal) {
            if (decimal === 0) return '0';
            
            const isNegative = decimal < 0;
            decimal = Math.abs(decimal);
            
            const integerPart = Math.floor(decimal);
            const fractionalPart = decimal - integerPart;
            
            // Convert integer part
            let binaryInteger = integerPart === 0 ? '0' : integerPart.toString(2);
            
            // Convert fractional part
            let binaryFractional = '';
            if (fractionalPart > 0) {
                let temp = fractionalPart;
                let precision = 10; // Increased precision
                
                while (temp > 0 && precision > 0) {
                    temp *= 2;
                    if (temp >= 1) {
                        binaryFractional += '1';
                        temp -= 1;
                    } else {
                        binaryFractional += '0';
                    }
                    precision--;
                }
                
                // Remove trailing zeros
                binaryFractional = binaryFractional.replace(/0+$/, '');
            }
            
            const result = binaryFractional ? `${binaryInteger}.${binaryFractional}` : binaryInteger;
            return isNegative ? `-${result}` : result;
        }

        // Alias functions for compatibility
        function binaryToDecimal(binary) {
            return convertBinaryToDecimal(binary);
        }

        function decimalToBinary(decimal) {
            return convertDecimalToBinary(decimal);
        }

        function binaryMath(operation) {
            const binary1 = document.getElementById('binary1').value.trim();
            const binary2 = document.getElementById('binary2').value.trim();
            
            if (!binary1 || !binary2) {
                alert('Please enter both binary numbers! üòä');
                return;
            }
            
            // Support negative binary numbers and decimal points
            if (!/^-?[01]+(\.[01]+)?$/.test(binary1) || !/^-?[01]+(\.[01]+)?$/.test(binary2)) {
                alert('Binary numbers can only have 0s, 1s, decimal points, and minus sign! üíª');
                return;
            }
            
            const decimal1 = convertBinaryToDecimal(binary1);
            const decimal2 = convertBinaryToDecimal(binary2);
            let result, operationText, symbol;
            
            switch (operation) {
                case 'add':
                    result = decimal1 + decimal2;
                    symbol = '+';
                    break;
                case 'subtract':
                    result = decimal1 - decimal2;
                    symbol = '-';
                    break;
                case 'multiply':
                    result = decimal1 * decimal2;
                    symbol = '√ó';
                    break;
                case 'divide':
                    if (decimal2 === 0) {
                        alert('Cannot divide by zero! üö´');
                        return;
                    }
                    result = decimal1 / decimal2;
                    symbol = '√∑';
                    break;
                default:
                    alert('Invalid operation! ü§î');
                    return;
            }
            
            operationText = `${binary1} ${symbol} ${binary2}`;
            const binaryResult = convertDecimalToBinary(result);
            
            document.getElementById('mathOperation').textContent = operationText;
            document.getElementById('binaryMathResult').textContent = binaryResult;
            document.getElementById('decimalMathResult').textContent = result.toFixed(8).replace(/\.?0+$/, '');
            
            // Show steps for all operations
            document.getElementById('mathSteps').style.display = 'block';
            if (operation === 'multiply') {
                document.getElementById('mathStepsContent').innerHTML = getMultiplicationSteps(binary1, binary2);
            } else if (operation === 'divide') {
                document.getElementById('mathStepsContent').innerHTML = getDivisionSteps(binary1, binary2);
            } else if (operation === 'add') {
                document.getElementById('mathStepsContent').innerHTML = getAdditionSteps(binary1, binary2);
            } else if (operation === 'subtract') {
                document.getElementById('mathStepsContent').innerHTML = getSubtractionSteps(binary1, binary2);
            }
        }

        function getMultiplicationSteps(binary1, binary2) {
            // Handle decimal binary multiplication
            if (binary1.includes('.') || binary2.includes('.')) {
                const decimal1 = convertBinaryToDecimal(binary1);
                const decimal2 = convertBinaryToDecimal(binary2);
                const result = decimal1 * decimal2;
                const binaryResult = convertDecimalToBinary(result);
                
                return `<div class="code-display">
                    <div><strong>Binary Decimal Multiplication:</strong></div>
                    <div>Step 1: Convert to decimal</div>
                    <div>${binary1} = ${decimal1.toFixed(8).replace(/\.?0+$/, '')}</div>
                    <div>${binary2} = ${decimal2.toFixed(8).replace(/\.?0+$/, '')}</div>
                    <div>Step 2: Multiply decimals</div>
                    <div>${decimal1.toFixed(8).replace(/\.?0+$/, '')} √ó ${decimal2.toFixed(8).replace(/\.?0+$/, '')} = ${result.toFixed(8).replace(/\.?0+$/, '')}</div>
                    <div>Step 3: Convert back to binary</div>
                    <div>${result.toFixed(8).replace(/\.?0+$/, '')} = ${binaryResult}</div>
                </div>`;
            }
            
            // Handle integer binary multiplication
            const cleanBinary1 = binary1.replace('-', '');
            const cleanBinary2 = binary2.replace('-', '');
            const decimal1 = parseInt(cleanBinary1, 2);
            const decimal2 = parseInt(cleanBinary2, 2);
            
            let steps = `<div class="code-display">`;
            steps += `<div style="text-align: right; margin-bottom: 10px;">`;
            steps += `<div>  ${cleanBinary1.padStart(8, ' ')}</div>`;
            steps += `<div>√ó ${cleanBinary2.padStart(8, ' ')}</div>`;
            steps += `<div>${'‚îÄ'.repeat(10)}</div>`;
            
            let partialProducts = [];
            for (let i = cleanBinary2.length - 1; i >= 0; i--) {
                if (cleanBinary2[i] === '1') {
                    const shift = cleanBinary2.length - 1 - i;
                    const product = cleanBinary1 + '0'.repeat(shift);
                    partialProducts.push(product);
                    steps += `<div>${product.padStart(10, ' ')}</div>`;
                }
            }
            
            const finalResult = (decimal1 * decimal2).toString(2);
            steps += `<div>${'‚îÄ'.repeat(10)}</div>`;
            steps += `<div>${finalResult.padStart(10, ' ')}</div>`;
            steps += `</div></div>`;
            
            return steps;
        }

        function getDivisionSteps(binary1, binary2) {
            // Handle decimal binary division
            if (binary1.includes('.') || binary2.includes('.')) {
                const decimal1 = convertBinaryToDecimal(binary1);
                const decimal2 = convertBinaryToDecimal(binary2);
                const result = decimal1 / decimal2;
                const binaryResult = convertDecimalToBinary(result);
                
                return `<div class="code-display">
                    <div><strong>Binary Decimal Division:</strong></div>
                    <div>Step 1: Convert to decimal</div>
                    <div>${binary1} = ${decimal1.toFixed(8).replace(/\.?0+$/, '')}</div>
                    <div>${binary2} = ${decimal2.toFixed(8).replace(/\.?0+$/, '')}</div>
                    <div>Step 2: Divide decimals</div>
                    <div>${decimal1.toFixed(8).replace(/\.?0+$/, '')} √∑ ${decimal2.toFixed(8).replace(/\.?0+$/, '')} = ${result.toFixed(8).replace(/\.?0+$/, '')}</div>
                    <div>Step 3: Convert back to binary</div>
                    <div>${result.toFixed(8).replace(/\.?0+$/, '')} = ${binaryResult}</div>
                </div>`;
            }
            
            // Handle integer binary division
            const cleanBinary1 = binary1.replace('-', '');
            const cleanBinary2 = binary2.replace('-', '');
            const decimal1 = parseInt(cleanBinary1, 2);
            const decimal2 = parseInt(cleanBinary2, 2);
            const quotient = Math.floor(decimal1 / decimal2);
            const remainder = decimal1 % decimal2;
            
            return `<div class="code-display">
                <div><strong>Binary Integer Division:</strong></div>
                <div>${cleanBinary1} √∑ ${cleanBinary2}</div>
                <div>Quotient: ${quotient.toString(2)}</div>
                <div>Remainder: ${remainder.toString(2)}</div>
                <div style="margin-top: 10px; color: #10b981;">
                    Check: ${quotient} √ó ${decimal2} + ${remainder} = ${decimal1}
                </div>
            </div>`;
        }

        function getAdditionSteps(binary1, binary2) {
            // Handle decimal binary addition
            if (binary1.includes('.') || binary2.includes('.')) {
                const decimal1 = convertBinaryToDecimal(binary1);
                const decimal2 = convertBinaryToDecimal(binary2);
                const result = decimal1 + decimal2;
                const binaryResult = convertDecimalToBinary(result);
                
                return `<div class="code-display">
                    <div><strong>Binary Decimal Addition:</strong></div>
                    <div>Step 1: Convert to decimal</div>
                    <div>${binary1} = ${decimal1.toFixed(8).replace(/\.?0+$/, '')}</div>
                    <div>${binary2} = ${decimal2.toFixed(8).replace(/\.?0+$/, '')}</div>
                    <div>Step 2: Add decimals</div>
                    <div>${decimal1.toFixed(8).replace(/\.?0+$/, '')} + ${decimal2.toFixed(8).replace(/\.?0+$/, '')} = ${result.toFixed(8).replace(/\.?0+$/, '')}</div>
                    <div>Step 3: Convert back to binary</div>
                    <div>${result.toFixed(8).replace(/\.?0+$/, '')} = ${binaryResult}</div>
                </div>`;
            }
            
            // Handle integer binary addition
            const cleanBinary1 = binary1.replace('-', '');
            const cleanBinary2 = binary2.replace('-', '');
            const maxLen = Math.max(cleanBinary1.length, cleanBinary2.length);
            const A = cleanBinary1.padStart(maxLen, '0');
            const B = cleanBinary2.padStart(maxLen, '0');
            
            let result = '';
            let carry = 0;
            let steps = [];
            
            for (let i = maxLen - 1; i >= 0; i--) {
                const bitA = parseInt(A[i]);
                const bitB = parseInt(B[i]);
                const sum = bitA + bitB + carry;
                
                result = (sum % 2) + result;
                carry = Math.floor(sum / 2);
                
                steps.push(`Position ${maxLen - i}: ${bitA} + ${bitB} + ${carry > 0 ? 'carry' : '0'} = ${sum} ‚Üí bit: ${sum % 2}, carry: ${Math.floor(sum / 2)}`);
            }
            
            if (carry) result = carry + result;
            
            return `<div class="code-display">
                <div><strong>Binary Addition Steps (right to left):</strong></div>
                <div style="text-align: right; margin: 10px 0;">
                    <div>  ${A}</div>
                    <div>+ ${B}</div>
                    <div>${'‚îÄ'.repeat(maxLen + 2)}</div>
                    <div>  ${result}</div>
                </div>
                <div><strong>Step-by-step:</strong></div>
                ${steps.reverse().map(step => `<div>‚Ä¢ ${step}</div>`).join('')}
            </div>`;
        }

        function getSubtractionSteps(binary1, binary2) {
            // Handle decimal binary subtraction
            if (binary1.includes('.') || binary2.includes('.')) {
                const decimal1 = convertBinaryToDecimal(binary1);
                const decimal2 = convertBinaryToDecimal(binary2);
                const result = decimal1 - decimal2;
                const binaryResult = convertDecimalToBinary(result);
                
                return `<div class="code-display">
                    <div><strong>Binary Decimal Subtraction:</strong></div>
                    <div>Step 1: Convert to decimal</div>
                    <div>${binary1} = ${decimal1.toFixed(8).replace(/\.?0+$/, '')}</div>
                    <div>${binary2} = ${decimal2.toFixed(8).replace(/\.?0+$/, '')}</div>
                    <div>Step 2: Subtract decimals</div>
                    <div>${decimal1.toFixed(8).replace(/\.?0+$/, '')} - ${decimal2.toFixed(8).replace(/\.?0+$/, '')} = ${result.toFixed(8).replace(/\.?0+$/, '')}</div>
                    <div>Step 3: Convert back to binary</div>
                    <div>${result.toFixed(8).replace(/\.?0+$/, '')} = ${binaryResult}</div>
                </div>`;
            }
            
            // Handle integer binary subtraction
            const cleanBinary1 = binary1.replace('-', '');
            const cleanBinary2 = binary2.replace('-', '');
            const decimal1 = parseInt(cleanBinary1, 2);
            const decimal2 = parseInt(cleanBinary2, 2);
            
            if (decimal1 < decimal2) {
                return `<div class="code-display">
                    <div><strong>Binary Subtraction:</strong></div>
                    <div>${cleanBinary1} - ${cleanBinary2}</div>
                    <div style="color: #ef4444;">Result is negative: -(${(decimal2 - decimal1).toString(2)})</div>
                    <div style="margin-top: 10px; color: #10b981;">
                        For negative results, use 2's complement method!
                    </div>
                </div>`;
            }
            
            const maxLen = Math.max(cleanBinary1.length, cleanBinary2.length);
            const A = cleanBinary1.padStart(maxLen, '0');
            const B = cleanBinary2.padStart(maxLen, '0');
            
            let result = '';
            let borrow = 0;
            let steps = [];
            
            for (let i = maxLen - 1; i >= 0; i--) {
                const bitA = parseInt(A[i]) - borrow;
                const bitB = parseInt(B[i]);
                
                if (bitA >= bitB) {
                    result = (bitA - bitB) + result;
                    borrow = 0;
                    steps.push(`Position ${maxLen - i}: ${bitA} - ${bitB} = ${bitA - bitB}`);
                } else {
                    result = (bitA + 2 - bitB) + result;
                    borrow = 1;
                    steps.push(`Position ${maxLen - i}: ${bitA} - ${bitB} (borrow 1) = ${bitA + 2 - bitB}`);
                }
            }
            
            result = result.replace(/^0+/, '') || '0';
            
            return `<div class="code-display">
                <div><strong>Binary Subtraction Steps (right to left):</strong></div>
                <div style="text-align: right; margin: 10px 0;">
                    <div>  ${A}</div>
                    <div>- ${B}</div>
                    <div>${'‚îÄ'.repeat(maxLen + 2)}</div>
                    <div>  ${result}</div>
                </div>
                <div><strong>Step-by-step:</strong></div>
                ${steps.reverse().map(step => `<div>‚Ä¢ ${step}</div>`).join('')}
            </div>`;
        }

        // Binary Multiplication with detailed steps
        function binaryMultiplication() {
            const inputA = document.getElementById('multA').value.trim();
            const inputB = document.getElementById('multB').value.trim();
            
            if (!inputA || !inputB) {
                alert('Please enter both binary numbers! üíª');
                return;
            }
            
            if (!/^-?[01]+(\.[01]+)?$/.test(inputA) || !/^-?[01]+(\.[01]+)?$/.test(inputB)) {
                alert('Please enter valid binary numbers (0s, 1s, decimal points, and minus sign)! üíª');
                return;
            }
            
            const decimalA = convertBinaryToDecimal(inputA);
            const decimalB = convertBinaryToDecimal(inputB);
            const result = decimalA * decimalB;
            const binaryResult = convertDecimalToBinary(result);
            
            let steps = `<h4>Binary Multiplication: ${inputA} √ó ${inputB}</h4>`;
            steps += `<div class="code-display">`;
            
            // Handle negative numbers
            const isNegativeA = inputA.startsWith('-');
            const isNegativeB = inputB.startsWith('-');
            const resultIsNegative = isNegativeA !== isNegativeB;
            
            const cleanA = inputA.replace('-', '');
            const cleanB = inputB.replace('-', '');
            
            // For decimal binary numbers, show the conversion approach
            if (cleanA.includes('.') || cleanB.includes('.')) {
                steps += `<div><strong>Method for decimal binary multiplication:</strong></div>`;
                steps += `<div>Step 1: Convert to decimal</div>`;
                steps += `<div>${inputA} = ${decimalA.toFixed(10).replace(/\.?0+$/, '')}</div>`;
                steps += `<div>${inputB} = ${decimalB.toFixed(10).replace(/\.?0+$/, '')}</div>`;
                steps += `<div>Step 2: Multiply decimals</div>`;
                steps += `<div>${decimalA.toFixed(10).replace(/\.?0+$/, '')} √ó ${decimalB.toFixed(10).replace(/\.?0+$/, '')} = ${result.toFixed(10).replace(/\.?0+$/, '')}</div>`;
                steps += `<div>Step 3: Convert result back to binary</div>`;
                steps += `<div>${result.toFixed(10).replace(/\.?0+$/, '')} = ${binaryResult}</div>`;
                
                // Show decimal point positioning
                const decimalPlacesA = (cleanA.split('.')[1] || '').length;
                const decimalPlacesB = (cleanB.split('.')[1] || '').length;
                const totalDecimalPlaces = decimalPlacesA + decimalPlacesB;
                
                if (totalDecimalPlaces > 0) {
                    steps += `<br><div><strong>Decimal Point Rule:</strong></div>`;
                    steps += `<div>Total decimal places: ${decimalPlacesA} + ${decimalPlacesB} = ${totalDecimalPlaces}</div>`;
                    steps += `<div>Result should have ${totalDecimalPlaces} decimal places</div>`;
                }
            } else {
                // Show partial products for integer binary
                steps += `<div><strong>Integer Binary Multiplication:</strong></div>`;
                steps += `<div style="font-family: monospace; text-align: right; margin: 15px 0; background: rgba(0,0,0,0.1); padding: 10px; border-radius: 5px;">`;
                
                const maxLen = Math.max(cleanA.length, cleanB.length) + 2;
                steps += `<div>${cleanA.padStart(maxLen, ' ')}</div>`;
                steps += `<div>√ó ${cleanB.padStart(maxLen - 2, ' ')}</div>`;
                steps += `<div>${'‚îÄ'.repeat(maxLen)}</div>`;
                
                // Show partial products
                let partialProducts = [];
                let hasPartialProducts = false;
                
                for (let i = cleanB.length - 1; i >= 0; i--) {
                    if (cleanB[i] === '1') {
                        const shift = cleanB.length - 1 - i;
                        const product = cleanA + '0'.repeat(shift);
                        partialProducts.push(product);
                        steps += `<div>${product.padStart(maxLen, ' ')}</div>`;
                        hasPartialProducts = true;
                    }
                }
                
                if (hasPartialProducts) {
                    steps += `<div>${'‚îÄ'.repeat(maxLen)}</div>`;
                }
                
                const finalBinary = binaryResult.replace('-', '');
                steps += `<div>${finalBinary.padStart(maxLen, ' ')}</div>`;
                steps += `</div>`;
                
                // Explain the process
                steps += `<div><strong>Process Explanation:</strong></div>`;
                steps += `<div>‚Ä¢ Multiply ${cleanA} by each bit of ${cleanB}</div>`;
                steps += `<div>‚Ä¢ When multiplying by 1: copy the number</div>`;
                steps += `<div>‚Ä¢ When multiplying by 0: result is 0 (not shown)</div>`;
                steps += `<div>‚Ä¢ Shift left for each position</div>`;
                steps += `<div>‚Ä¢ Add all partial products together</div>`;
            }
            
            // Handle sign
            if (resultIsNegative && result !== 0) {
                steps += `<br><div><strong>Sign Calculation:</strong></div>`;
                steps += `<div>${isNegativeA ? 'Negative' : 'Positive'} √ó ${isNegativeB ? 'Negative' : 'Positive'} = ${resultIsNegative ? 'Negative' : 'Positive'}</div>`;
            }
            
            steps += `<br><div><strong>Final Answer:</strong></div>`;
            steps += `<div>Binary: ${binaryResult}</div>`;
            steps += `<div>Decimal: ${result.toFixed(10).replace(/\.?0+$/, '')}</div>`;
            
            // Verification
            steps += `<br><div style="color: #10b981;"><strong>Verification:</strong></div>`;
            steps += `<div>${decimalA.toFixed(10).replace(/\.?0+$/, '')} √ó ${decimalB.toFixed(10).replace(/\.?0+$/, '')} = ${result.toFixed(10).replace(/\.?0+$/, '')} ‚úì</div>`;
            steps += `</div>`;
            
            document.getElementById('multResult').innerHTML = steps;
        }

        // Binary Division with detailed steps
        function binaryDivision() {
            const inputA = document.getElementById('divA').value.trim();
            const inputB = document.getElementById('divB').value.trim();
            
            if (!inputA || !inputB) {
                alert('Please enter both binary numbers! üíª');
                return;
            }
            
            if (!/^-?[01]+(\.[01]+)?$/.test(inputA) || !/^-?[01]+(\.[01]+)?$/.test(inputB)) {
                alert('Please enter valid binary numbers (0s, 1s, decimal points, and minus sign)! üíª');
                return;
            }
            
            const decimalA = convertBinaryToDecimal(inputA);
            const decimalB = convertBinaryToDecimal(inputB);
            
            if (decimalB === 0) {
                alert('Cannot divide by zero! üö´');
                return;
            }
            
            const result = decimalA / decimalB;
            const binaryResult = convertDecimalToBinary(result);
            
            let steps = `<h4>Binary Division: ${inputA} √∑ ${inputB}</h4>`;
            steps += `<div class="code-display">`;
            
            // Handle negative numbers
            const isNegativeA = inputA.startsWith('-');
            const isNegativeB = inputB.startsWith('-');
            const resultIsNegative = isNegativeA !== isNegativeB;
            
            const cleanA = inputA.replace('-', '');
            const cleanB = inputB.replace('-', '');
            
            if (cleanA.includes('.') || cleanB.includes('.')) {
                // Decimal binary division
                steps += `<div><strong>Method for decimal binary division:</strong></div>`;
                steps += `<div>Step 1: Convert to decimal</div>`;
                steps += `<div>${inputA} = ${decimalA.toFixed(10).replace(/\.?0+$/, '')}</div>`;
                steps += `<div>${inputB} = ${decimalB.toFixed(10).replace(/\.?0+$/, '')}</div>`;
                steps += `<div>Step 2: Perform decimal division</div>`;
                steps += `<div>${decimalA.toFixed(10).replace(/\.?0+$/, '')} √∑ ${decimalB.toFixed(10).replace(/\.?0+$/, '')} = ${result.toFixed(10).replace(/\.?0+$/, '')}</div>`;
                steps += `<div>Step 3: Convert result back to binary</div>`;
                steps += `<div>${result.toFixed(10).replace(/\.?0+$/, '')} = ${binaryResult}</div>`;
            } else {
                // Integer binary division - show long division method
                const quotient = Math.floor(Math.abs(decimalA) / Math.abs(decimalB));
                const remainder = Math.abs(decimalA) % Math.abs(decimalB);
                const binaryQuotient = quotient.toString(2);
                const binaryRemainder = remainder.toString(2);
                
                steps += `<div><strong>Integer Binary Division (Long Division Method):</strong></div>`;
                steps += `<div style="font-family: monospace; margin: 15px 0; background: rgba(0,0,0,0.1); padding: 15px; border-radius: 5px;">`;
                
                // Show the division setup
                steps += `<div style="text-align: center; margin-bottom: 10px;">`;
                steps += `<div>${binaryQuotient}</div>`;
                steps += `<div>‚îå${'‚îÄ'.repeat(Math.max(cleanA.length, binaryQuotient.length))}</div>`;
                steps += `<div>${cleanB} ‚îÇ ${cleanA}</div>`;
                steps += `</div>`;
                
                // Show step-by-step division process
                if (quotient > 0) {
                    steps += `<div><strong>Division Steps:</strong></div>`;
                    
                    // Simple explanation for binary division
                    let dividend = parseInt(cleanA, 2);
                    let divisor = parseInt(cleanB, 2);
                    let currentQuotient = quotient;
                    
                    steps += `<div>1. How many times does ${cleanB} (${divisor}) go into ${cleanA} (${dividend})?</div>`;
                    steps += `<div>2. ${divisor} √ó ${quotient} = ${divisor * quotient}</div>`;
                    steps += `<div>3. ${dividend} - ${divisor * quotient} = ${remainder} (remainder)</div>`;
                    
                    if (remainder > 0) {
                        steps += `<div>4. Remainder: ${remainder} = ${binaryRemainder} in binary</div>`;
                    }
                } else {
                    steps += `<div>Since ${cleanA} (${Math.abs(decimalA)}) < ${cleanB} (${Math.abs(decimalB)}), quotient = 0</div>`;
                }
                
                steps += `</div>`;
                
                steps += `<div><strong>Result:</strong></div>`;
                steps += `<div>Quotient: ${binaryQuotient}</div>`;
                if (remainder > 0) {
                    steps += `<div>Remainder: ${binaryRemainder}</div>`;
                    steps += `<div>As decimal: ${quotient} remainder ${remainder}</div>`;
                }
                
                // Show exact division if no remainder
                if (remainder === 0) {
                    steps += `<div>Exact division (no remainder)</div>`;
                } else {
                    // Show as fraction
                    const fractionResult = decimalA / decimalB;
                    steps += `<div>As fraction: ${fractionResult.toFixed(10).replace(/\.?0+$/, '')}</div>`;
                }
            }
            
            // Handle sign
            if (resultIsNegative && result !== 0) {
                steps += `<br><div><strong>Sign Calculation:</strong></div>`;
                steps += `<div>${isNegativeA ? 'Negative' : 'Positive'} √∑ ${isNegativeB ? 'Negative' : 'Positive'} = ${resultIsNegative ? 'Negative' : 'Positive'}</div>`;
            }
            
            steps += `<br><div><strong>Final Answer:</strong></div>`;
            steps += `<div>Binary: ${binaryResult}</div>`;
            steps += `<div>Decimal: ${result.toFixed(10).replace(/\.?0+$/, '')}</div>`;
            
            // Verification
            steps += `<br><div style="color: #10b981;"><strong>Verification:</strong></div>`;
            steps += `<div>${decimalA.toFixed(10).replace(/\.?0+$/, '')} √∑ ${decimalB.toFixed(10).replace(/\.?0+$/, '')} = ${result.toFixed(10).replace(/\.?0+$/, '')} ‚úì</div>`;
            
            // Show multiplication check for integer division
            if (!cleanA.includes('.') && !cleanB.includes('.')) {
                const quotient = Math.floor(Math.abs(decimalA) / Math.abs(decimalB));
                const remainder = Math.abs(decimalA) % Math.abs(decimalB);
                if (remainder === 0) {
                    steps += `<div>Check: ${Math.abs(decimalB)} √ó ${quotient} = ${Math.abs(decimalA)} ‚úì</div>`;
                } else {
                    steps += `<div>Check: ${Math.abs(decimalB)} √ó ${quotient} + ${remainder} = ${Math.abs(decimalA)} ‚úì</div>`;
                }
            }
            
            steps += `</div>`;
            
            document.getElementById('divResult').innerHTML = steps;
        }

        // Direct Binary Subtraction
        function directBinarySubtraction() {
            const inputA = document.getElementById('subA').value.trim();
            const inputB = document.getElementById('subB').value.trim();
            
            if (!inputA || !inputB) {
                alert('Please enter both binary numbers! üíª');
                return;
            }
            
            if (!/^-?[01]+(\.[01]+)?$/.test(inputA) || !/^-?[01]+(\.[01]+)?$/.test(inputB)) {
                alert('Please enter valid binary numbers (0s, 1s, decimal points, and minus sign)! üíª');
                return;
            }
            
            const decimalA = convertBinaryToDecimal(inputA);
            const decimalB = convertBinaryToDecimal(inputB);
            
            if (decimalA < decimalB) {
                alert('For direct method, first number should be larger! Try 1\'s or 2\'s complement for negative results. üòä');
                return;
            }
            
            // For decimal binary numbers, show conversion method
            if (inputA.includes('.') || inputB.includes('.')) {
                const result = decimalA - decimalB;
                const binaryResult = convertDecimalToBinary(result);
                
                document.getElementById('subResult').innerHTML = 
                    `<h4>Direct Binary Subtraction: ${inputA} - ${inputB}</h4>
                     <div class="code-display">
                         <div><strong>Method for decimal binary subtraction:</strong></div>
                         <div>1. Convert to decimal: ${inputA} = ${decimalA.toFixed(6).replace(/\.?0+$/, '')}, ${inputB} = ${decimalB.toFixed(6).replace(/\.?0+$/, '')}</div>
                         <div>2. Subtract: ${decimalA.toFixed(6).replace(/\.?0+$/, '')} - ${decimalB.toFixed(6).replace(/\.?0+$/, '')} = ${result.toFixed(6).replace(/\.?0+$/, '')}</div>
                         <div>3. Convert back to binary: ${result.toFixed(6).replace(/\.?0+$/, '')} = ${binaryResult}</div>
                         <br>
                         <div><strong>Final Result:</strong> ${binaryResult}</div>
                     </div>`;
                return;
            }
            
            // For integer binary numbers, show bit-by-bit subtraction
            const maxLen = Math.max(inputA.length, inputB.length);
            const A = inputA.padStart(maxLen, '0');
            const B = inputB.padStart(maxLen, '0');
            
            let result = '';
            let borrow = 0;
            let steps = [];
            
            for (let i = maxLen - 1; i >= 0; i--) {
                const bitA = parseInt(A[i]) - borrow;
                const bitB = parseInt(B[i]);
                
                if (bitA >= bitB) {
                    result = (bitA - bitB) + result;
                    borrow = 0;
                    steps.push(`Position ${maxLen - i}: ${bitA} - ${bitB} = ${bitA - bitB}`);
                } else {
                    result = (bitA + 2 - bitB) + result;
                    borrow = 1;
                    steps.push(`Position ${maxLen - i}: ${bitA} - ${bitB} (borrow 1) = ${bitA + 2 - bitB}`);
                }
            }
            
            // Remove leading zeros
            result = result.replace(/^0+/, '') || '0';
            
            document.getElementById('subResult').innerHTML = 
                `<h4>Direct Binary Subtraction: ${A} - ${B}</h4>
                 <div class="code-display">
                     <div><strong>Steps (right to left):</strong></div>
                     ${steps.reverse().map(step => `<div>${step}</div>`).join('')}
                     <br>
                     <div><strong>Result:</strong> ${result}</div>
                     <div><strong>Decimal check:</strong> ${decimalA} - ${decimalB} = ${decimalA - decimalB}</div>
                 </div>`;
        }

        // Parity Bit Functions
        function calculateEvenParity() {
            const input = document.getElementById('evenParityInput').value.trim();
            
            if (!input) {
                alert('Please enter binary numbers! üíª');
                return;
            }
            
            // Allow binary numbers with decimal points, but only count the binary digits
            if (!/^-?[01]+(\.[01]+)?$/.test(input)) {
                alert('Please enter binary numbers (0s, 1s, decimal points, and minus sign)! üíª');
                return;
            }
            
            // Remove decimal point and minus sign for counting 1s
            const binaryDigits = input.replace(/[\.\-]/g, '');
            const onesCount = (binaryDigits.match(/1/g) || []).length;
            const parityBit = onesCount % 2 === 0 ? '0' : '1';
            const finalCode = input + parityBit;
            
            document.getElementById('evenParityResult').innerHTML = 
                `<h4>Even Parity Calculation:</h4>
                 <p><strong>Original data:</strong> ${input}</p>
                 <p><strong>Binary digits only:</strong> ${binaryDigits}</p>
                 <p><strong>Number of 1s:</strong> ${onesCount}</p>
                 <p><strong>Parity bit needed:</strong> ${parityBit} (to make total even)</p>
                 <p><strong>Final code:</strong> ${finalCode}</p>
                 <p><strong>Total 1s now:</strong> ${onesCount + parseInt(parityBit)} (even ‚úì)</p>`;
        }

        function calculateOddParity() {
            const input = document.getElementById('oddParityInput').value.trim();
            
            if (!input) {
                alert('Please enter binary numbers! üíª');
                return;
            }
            
            // Allow binary numbers with decimal points, but only count the binary digits
            if (!/^-?[01]+(\.[01]+)?$/.test(input)) {
                alert('Please enter binary numbers (0s, 1s, decimal points, and minus sign)! üíª');
                return;
            }
            
            // Remove decimal point and minus sign for counting 1s
            const binaryDigits = input.replace(/[\.\-]/g, '');
            const onesCount = (binaryDigits.match(/1/g) || []).length;
            const parityBit = onesCount % 2 === 1 ? '0' : '1';
            const finalCode = input + parityBit;
            
            document.getElementById('oddParityResult').innerHTML = 
                `<h4>Odd Parity Calculation:</h4>
                 <p><strong>Original data:</strong> ${input}</p>
                 <p><strong>Binary digits only:</strong> ${binaryDigits}</p>
                 <p><strong>Number of 1s:</strong> ${onesCount}</p>
                 <p><strong>Parity bit needed:</strong> ${parityBit} (to make total odd)</p>
                 <p><strong>Final code:</strong> ${finalCode}</p>
                 <p><strong>Total 1s now:</strong> ${onesCount + parseInt(parityBit)} (odd ‚úì)</p>`;
        }

        // BCD Addition
        function bcdAddition() {
            const inputA = document.getElementById('bcdAddA').value.trim();
            const inputB = document.getElementById('bcdAddB').value.trim();
            
            if (!inputA || !inputB) {
                alert('Please enter both decimal numbers! üî¢');
                return;
            }
            
            // Validate decimal input (digits and decimal point only)
            if (!/^\d+(\.\d+)?$/.test(inputA) || !/^\d+(\.\d+)?$/.test(inputB)) {
                alert('Please enter valid decimal numbers (0-9 and decimal point only)! üî¢');
                return;
            }
            
            // Convert to BCD and perform addition
            const bcdA = decimalToBCD(inputA);
            const bcdB = decimalToBCD(inputB);
            
            // Align decimal points and pad with zeros
            const [alignedA, alignedB] = alignDecimalNumbers(inputA, inputB);
            const decimalResult = (parseFloat(inputA) + parseFloat(inputB)).toFixed(Math.max(
                (inputA.split('.')[1] || '').length,
                (inputB.split('.')[1] || '').length
            ));
            const bcdResult = decimalToBCD(decimalResult);
            
            // Show step-by-step BCD addition
            let steps = [];
            let carrySteps = [];
            let carry = 0;
            
            // Process each digit from right to left
            const digitsA = alignedA.replace('.', '');
            const digitsB = alignedB.replace('.', '');
            
            for (let i = digitsA.length - 1; i >= 0; i--) {
                const digitA = parseInt(digitsA[i]);
                const digitB = parseInt(digitsB[i]);
                const sum = digitA + digitB + carry;
                
                const bcdDigitA = digitA.toString(2).padStart(4, '0');
                const bcdDigitB = digitB.toString(2).padStart(4, '0');
                
                if (sum > 9) {
                    carry = 1;
                    const correctedSum = sum - 10;
                    steps.push(`${digitA} + ${digitB} + ${carry > 0 ? 'carry' : '0'} = ${sum} > 9, result: ${correctedSum}, carry: 1`);
                    carrySteps.push(`${bcdDigitA} + ${bcdDigitB} = ${sum.toString(2).padStart(4, '0')} + 0110 (correction) = ${(sum + 6).toString(2)}`);
                } else {
                    carry = 0;
                    steps.push(`${digitA} + ${digitB} + ${carry > 0 ? 'carry' : '0'} = ${sum} (no correction needed)`);
                    carrySteps.push(`${bcdDigitA} + ${bcdDigitB} = ${sum.toString(2).padStart(4, '0')}`);
                }
            }
            
            document.getElementById('bcdAddResult').innerHTML = 
                `<h4>BCD Addition: ${inputA} + ${inputB}</h4>
                 <div class="code-display">
                     <div><strong>Step 1 - Convert to BCD:</strong></div>
                     <div>${inputA} ‚Üí ${bcdA}</div>
                     <div>${inputB} ‚Üí ${bcdB}</div>
                     <br>
                     <div><strong>Step 2 - Add each digit (right to left):</strong></div>
                     ${steps.reverse().map(step => `<div>‚Ä¢ ${step}</div>`).join('')}
                     <br>
                     <div><strong>Step 3 - BCD binary addition with correction:</strong></div>
                     ${carrySteps.reverse().map(step => `<div>‚Ä¢ ${step}</div>`).join('')}
                     <br>
                     <div><strong>Final Result:</strong></div>
                     <div>Decimal: ${decimalResult}</div>
                     <div>BCD: ${bcdResult}</div>
                     <div style="color: #10b981; margin-top: 10px;">
                         <strong>BCD Rule:</strong> If digit sum > 9, add 6 (0110) for correction
                     </div>
                 </div>`;
        }

        // BCD Subtraction
        function bcdSubtraction() {
            const inputA = document.getElementById('bcdSubA').value.trim();
            const inputB = document.getElementById('bcdSubB').value.trim();
            
            if (!inputA || !inputB) {
                alert('Please enter both decimal numbers! üî¢');
                return;
            }
            
            // Validate decimal input
            if (!/^\d+(\.\d+)?$/.test(inputA) || !/^\d+(\.\d+)?$/.test(inputB)) {
                alert('Please enter valid decimal numbers (0-9 and decimal point only)! üî¢');
                return;
            }
            
            const numA = parseFloat(inputA);
            const numB = parseFloat(inputB);
            
            if (numA < numB) {
                alert('For this example, first number should be larger than second! üòä');
                return;
            }
            
            // Convert to BCD
            const bcdA = decimalToBCD(inputA);
            const bcdB = decimalToBCD(inputB);
            
            // Calculate result with proper decimal places
            const decimalResult = (numA - numB).toFixed(Math.max(
                (inputA.split('.')[1] || '').length,
                (inputB.split('.')[1] || '').length
            ));
            const bcdResult = decimalToBCD(decimalResult);
            
            // Align numbers for demonstration
            const [alignedA, alignedB] = alignDecimalNumbers(inputA, inputB);
            
            // Show BCD subtraction with borrowing
            let steps = [];
            let bcdSteps = [];
            let borrow = 0;
            const digitsA = alignedA.replace('.', '');
            const digitsB = alignedB.replace('.', '');
            
            for (let i = digitsA.length - 1; i >= 0; i--) {
                const digitA = parseInt(digitsA[i]) - borrow;
                const digitB = parseInt(digitsB[i]);
                
                const bcdDigitA = digitA.toString(2).padStart(4, '0');
                const bcdDigitB = digitB.toString(2).padStart(4, '0');
                
                if (digitA >= digitB) {
                    const result = digitA - digitB;
                    steps.push(`${digitA} - ${digitB} = ${result} (direct subtraction)`);
                    bcdSteps.push(`${bcdDigitA} - ${bcdDigitB} = ${result.toString(2).padStart(4, '0')}`);
                    borrow = 0;
                } else {
                    // Need to borrow
                    const adjustedA = digitA + 10;
                    const result = adjustedA - digitB;
                    steps.push(`${digitA} - ${digitB}: borrow 10 ‚Üí ${adjustedA} - ${digitB} = ${result}`);
                    bcdSteps.push(`${bcdDigitA} + 1010 (borrow) - ${bcdDigitB} = ${result.toString(2).padStart(4, '0')}`);
                    borrow = 1;
                }
            }
            
            document.getElementById('bcdSubResult').innerHTML = 
                `<h4>BCD Subtraction: ${inputA} - ${inputB}</h4>
                 <div class="code-display">
                     <div><strong>Step 1 - Convert to BCD:</strong></div>
                     <div>${inputA} ‚Üí ${bcdA}</div>
                     <div>${inputB} ‚Üí ${bcdB}</div>
                     <br>
                     <div><strong>Step 2 - Subtract each digit (right to left):</strong></div>
                     ${steps.reverse().map(step => `<div>‚Ä¢ ${step}</div>`).join('')}
                     <br>
                     <div><strong>Step 3 - BCD binary subtraction:</strong></div>
                     ${bcdSteps.reverse().map(step => `<div>‚Ä¢ ${step}</div>`).join('')}
                     <br>
                     <div><strong>Final Result:</strong></div>
                     <div>Decimal: ${decimalResult}</div>
                     <div>BCD: ${bcdResult}</div>
                     <div style="color: #10b981; margin-top: 10px;">
                         <strong>BCD Rule:</strong> When borrowing, add 10 (1010 in binary) to the digit
                     </div>
                 </div>`;
        }

        // Helper function to convert decimal to BCD with decimal point support
        function decimalToBCD(decimal) {
            let bcdCode = '';
            
            for (let i = 0; i < decimal.length; i++) {
                const char = decimal[i];
                if (char === '.') {
                    bcdCode += '. ';
                } else {
                    const digit = parseInt(char);
                    const bcd = digit.toString(2).padStart(4, '0');
                    bcdCode += bcd + ' ';
                }
            }
            
            return bcdCode.trim();
        }

        // Helper function to align decimal numbers for calculation
        function alignDecimalNumbers(numA, numB) {
            const [intA, fracA = ''] = numA.split('.');
            const [intB, fracB = ''] = numB.split('.');
            
            const maxInt = Math.max(intA.length, intB.length);
            const maxFrac = Math.max(fracA.length, fracB.length);
            
            const alignedA = intA.padStart(maxInt, '0') + (maxFrac > 0 ? '.' + fracA.padEnd(maxFrac, '0') : '');
            const alignedB = intB.padStart(maxInt, '0') + (maxFrac > 0 ? '.' + fracB.padEnd(maxFrac, '0') : '');
            
            return [alignedA, alignedB];
        }

        function convertASCII() {
            const input = document.getElementById('asciiInput').value;
            
            if (!input) {
                alert('Please enter a character! üî§');
                return;
            }
            
            const char = input[0];
            const ascii = char.charCodeAt(0);
            const binary = ascii.toString(2).padStart(8, '0');
            const hex = ascii.toString(16).toUpperCase();
            
            document.getElementById('asciiResult').innerHTML = 
                `<strong>Letter:</strong> '${char}'<br>
                 <strong>ASCII Number:</strong> ${ascii}<br>
                 <strong>Binary:</strong> ${binary}<br>
                 <strong>Hex:</strong> ${hex}`;
        }

        function convertBCD() {
            const input = document.getElementById('bcdInput').value.trim();
            
            if (!input) {
                alert('Please enter a decimal number! üî¢');
                return;
            }
            
            // Validate decimal input (digits and decimal point only)
            if (!/^\d+(\.\d+)?$/.test(input)) {
                alert('Please enter valid decimal numbers (0-9 and decimal point only)! üî¢');
                return;
            }
            
            let bcdCode = '';
            let explanation = 'Each digit becomes 4 bits: ';
            let stepByStep = [];
            
            for (let i = 0; i < input.length; i++) {
                const char = input[i];
                if (char === '.') {
                    bcdCode += '. ';
                    explanation += '. ';
                    stepByStep.push('Decimal point stays as is');
                } else {
                    const digit = parseInt(char);
                    const bcd = digit.toString(2).padStart(4, '0');
                    bcdCode += bcd + ' ';
                    explanation += `${digit}‚Üí${bcd} `;
                    stepByStep.push(`Digit ${digit} = ${bcd} in binary`);
                }
            }
            
            document.getElementById('bcdResult').innerHTML = 
                `<h4>Decimal to BCD Conversion:</h4>
                 <p><strong>Original Decimal:</strong> ${input}</p>
                 <p><strong>BCD Code:</strong> ${bcdCode.trim()}</p>
                 <p><strong>Step-by-step:</strong></p>
                 <div class="code-display">
                     ${stepByStep.map(step => `<div>‚Ä¢ ${step}</div>`).join('')}
                 </div>
                 <div class="code-display" style="margin-top: 15px;">
                     <div><strong>BCD Rules:</strong></div>
                     <div>‚Ä¢ Each decimal digit (0-9) = exactly 4 bits</div>
                     <div>‚Ä¢ Decimal point stays in the same position</div>
                     <div>‚Ä¢ 0‚Üí0000, 1‚Üí0001, 2‚Üí0010, 3‚Üí0011, 4‚Üí0100</div>
                     <div>‚Ä¢ 5‚Üí0101, 6‚Üí0110, 7‚Üí0111, 8‚Üí1000, 9‚Üí1001</div>
                     <div>‚Ä¢ Groups 1010-1111 are not used in BCD</div>
                 </div>`;
        }

        function convertGray() {
            const input = document.getElementById('grayInput').value.trim();
            
            if (!input || !/^[01]+$/.test(input)) {
                alert('Please enter binary numbers (only 0s and 1s)! üíª');
                return;
            }
            
            // Binary to Gray Code
            let gray = input[0]; // First bit stays the same
            let steps = [`Bit 1: ${input[0]} (first bit stays the same)`];
            
            for (let i = 1; i < input.length; i++) {
                const xorResult = parseInt(input[i-1]) ^ parseInt(input[i]);
                gray += xorResult.toString();
                steps.push(`Bit ${i+1}: ${input[i-1]} XOR ${input[i]} = ${xorResult}`);
            }
            
            // Also show Gray to Binary conversion
            let binaryFromGray = gray[0];
            let grayToBinarySteps = [`Bit 1: ${gray[0]} (first bit stays the same)`];
            
            for (let i = 1; i < gray.length; i++) {
                const xorResult = parseInt(binaryFromGray[i-1]) ^ parseInt(gray[i]);
                binaryFromGray += xorResult.toString();
                grayToBinarySteps.push(`Bit ${i+1}: ${binaryFromGray[i-1]} XOR ${gray[i]} = ${xorResult}`);
            }
            
            document.getElementById('grayResult').innerHTML = 
                `<h4>Binary to Gray Code Conversion:</h4>
                 <div class="code-display">
                     <div><strong>Original Binary:</strong> ${input}</div>
                     <div><strong>Gray Code:</strong> ${gray}</div>
                     <br>
                     <div><strong>Conversion Steps:</strong></div>
                     ${steps.map(step => `<div>‚Ä¢ ${step}</div>`).join('')}
                     <br>
                     <div><strong>Verification (Gray to Binary):</strong></div>
                     ${grayToBinarySteps.map(step => `<div>‚Ä¢ ${step}</div>`).join('')}
                     <div><strong>Result:</strong> ${binaryFromGray} ${binaryFromGray === input ? '‚úì' : '‚úó'}</div>
                 </div>
                 <div style="margin-top: 15px; padding: 10px; background: rgba(16, 185, 129, 0.1); border-radius: 8px;">
                     <strong>Gray Code Properties:</strong><br>
                     ‚Ä¢ Only one bit changes between consecutive numbers<br>
                     ‚Ä¢ Used in rotary encoders and error correction<br>
                     ‚Ä¢ Prevents glitches in digital systems
                 </div>`;
        }

        // 1's Complement Function
        function calculateOnesComplement() {
            const input = document.getElementById('onesInput').value.trim();
            
            if (!input || !/^[01]+$/.test(input)) {
                alert('Please enter binary numbers (only 0s and 1s)! üíª');
                return;
            }
            
            let onesComp = '';
            for (let i = 0; i < input.length; i++) {
                onesComp += input[i] === '0' ? '1' : '0';
            }
            
            document.getElementById('onesResult').innerHTML = 
                `<h4>Step-by-Step:</h4>
                 <p><strong>Original:</strong> ${input}</p>
                 <p><strong>1's Complement:</strong> ${onesComp}</p>
                 <p class="text-sm">Each bit flipped: ${input.split('').map((bit, i) => `${bit}‚Üí${onesComp[i]}`).join(', ')}</p>`;
        }

        // 2's Complement Function
        function calculateTwosComplement() {
            const input = document.getElementById('twosInput').value.trim();
            
            if (!input || !/^[01]+$/.test(input)) {
                alert('Please enter binary numbers (only 0s and 1s)! üíª');
                return;
            }
            
            // Calculate 1's complement
            let onesComp = '';
            for (let i = 0; i < input.length; i++) {
                onesComp += input[i] === '0' ? '1' : '0';
            }
            
            // Add 1 to get 2's complement
            let twosComp = '';
            let carry = 1;
            for (let i = onesComp.length - 1; i >= 0; i--) {
                const sum = parseInt(onesComp[i]) + carry;
                twosComp = (sum % 2) + twosComp;
                carry = Math.floor(sum / 2);
            }
            
            document.getElementById('twosResult').innerHTML = 
                `<h4>Step-by-Step:</h4>
                 <p><strong>Original:</strong> ${input}</p>
                 <p><strong>1's Complement:</strong> ${onesComp}</p>
                 <p><strong>Add 1:</strong> ${onesComp} + 1</p>
                 <p><strong>2's Complement:</strong> ${twosComp}</p>
                 <p class="text-sm">Used for representing negative numbers in computers!</p>`;
        }

        // 1's Complement Subtraction Function
        function onesComplementSubtraction() {
            const inputA = document.getElementById('subA').value.trim();
            const inputB = document.getElementById('subB').value.trim();
            
            if (!inputA || !inputB) {
                alert('Please enter both binary numbers! üíª');
                return;
            }
            
            if (!/^-?[01]+(\.[01]+)?$/.test(inputA) || !/^-?[01]+(\.[01]+)?$/.test(inputB)) {
                alert('Please enter valid binary numbers (0s, 1s, decimal points, and minus sign)! üíª');
                return;
            }
            
            // Handle decimal binary numbers using conversion method
            if (inputA.includes('.') || inputB.includes('.')) {
                const decimalA = convertBinaryToDecimal(inputA);
                const decimalB = convertBinaryToDecimal(inputB);
                const result = decimalA - decimalB;
                const binaryResult = convertDecimalToBinary(result);
                
                document.getElementById('subResult').innerHTML = 
                    `<h4>1's Complement Subtraction: ${inputA} - ${inputB}</h4>
                     <div class="code-display">
                         <div><strong>Method for decimal binary subtraction:</strong></div>
                         <div>1. Convert to decimal: ${inputA} = ${decimalA.toFixed(8).replace(/\.?0+$/, '')}, ${inputB} = ${decimalB.toFixed(8).replace(/\.?0+$/, '')}</div>
                         <div>2. Subtract: ${decimalA.toFixed(8).replace(/\.?0+$/, '')} - ${decimalB.toFixed(8).replace(/\.?0+$/, '')} = ${result.toFixed(8).replace(/\.?0+$/, '')}</div>
                         <div>3. Convert back to binary: ${result.toFixed(8).replace(/\.?0+$/, '')} = ${binaryResult}</div>
                         <br>
                         <div><strong>Final Result:</strong> ${binaryResult}</div>
                         <div style="color: #10b981; margin-top: 10px;">
                             <strong>Note:</strong> For decimal binary numbers, we use decimal conversion method
                         </div>
                     </div>`;
                return;
            }
            
            // Make both numbers the same length
            const maxLen = Math.max(inputA.length, inputB.length);
            const A = inputA.padStart(maxLen, '0');
            const B = inputB.padStart(maxLen, '0');
            
            // Calculate 1's complement of B
            let onesCompB = '';
            for (let i = 0; i < B.length; i++) {
                onesCompB += B[i] === '0' ? '1' : '0';
            }
            
            // Add A + 1's complement of B
            let result = '';
            let carry = 0;
            for (let i = A.length - 1; i >= 0; i--) {
                const sum = parseInt(A[i]) + parseInt(onesCompB[i]) + carry;
                result = (sum % 2) + result;
                carry = Math.floor(sum / 2);
            }
            
            let finalCarry = carry;
            
            // End-around carry: if there's a carry out, add it to the result
            if (carry) {
                let finalResult = '';
                carry = 1;
                for (let i = result.length - 1; i >= 0; i--) {
                    const sum = parseInt(result[i]) + carry;
                    finalResult = (sum % 2) + finalResult;
                    carry = Math.floor(sum / 2);
                }
                result = finalResult;
            }
            
            const decimalA = parseInt(A, 2);
            const decimalB = parseInt(B, 2);
            const decimalResult = decimalA - decimalB;
            
            document.getElementById('subResult').innerHTML = 
                `<h4>1's Complement Subtraction: ${A} - ${B}</h4>
                 <div class="code-display">
                     <div><strong>Step 1:</strong> Find 1's complement of ${B}</div>
                     <div>1's complement of ${B} = ${onesCompB}</div>
                     <br>
                     <div><strong>Step 2:</strong> Add A + 1's complement of B</div>
                     <div>${A} + ${onesCompB} = ${result}${finalCarry ? ' (with carry out)' : ''}</div>
                     <br>
                     <div><strong>Step 3:</strong> ${finalCarry ? 'Apply end-around carry' : 'No end-around carry needed'}</div>
                     ${finalCarry ? `<div>Add carry to result: ${result}</div>` : ''}
                     <br>
                     <div><strong>Final Result:</strong> ${result}</div>
                     <div><strong>Decimal check:</strong> ${decimalA} - ${decimalB} = ${decimalResult}</div>
                 </div>`;
        }

        // 2's Complement Subtraction Function
        function twosComplementSubtraction() {
            const inputA = document.getElementById('subA').value.trim();
            const inputB = document.getElementById('subB').value.trim();
            
            if (!inputA || !inputB) {
                alert('Please enter both binary numbers! üíª');
                return;
            }
            
            if (!/^-?[01]+(\.[01]+)?$/.test(inputA) || !/^-?[01]+(\.[01]+)?$/.test(inputB)) {
                alert('Please enter valid binary numbers (0s, 1s, decimal points, and minus sign)! üíª');
                return;
            }
            
            // Handle decimal binary numbers using conversion method
            if (inputA.includes('.') || inputB.includes('.')) {
                const decimalA = convertBinaryToDecimal(inputA);
                const decimalB = convertBinaryToDecimal(inputB);
                const result = decimalA - decimalB;
                const binaryResult = convertDecimalToBinary(result);
                
                document.getElementById('subResult').innerHTML = 
                    `<h4>2's Complement Subtraction: ${inputA} - ${inputB}</h4>
                     <div class="code-display">
                         <div><strong>Method for decimal binary subtraction:</strong></div>
                         <div>1. Convert to decimal: ${inputA} = ${decimalA.toFixed(8).replace(/\.?0+$/, '')}, ${inputB} = ${decimalB.toFixed(8).replace(/\.?0+$/, '')}</div>
                         <div>2. Subtract: ${decimalA.toFixed(8).replace(/\.?0+$/, '')} - ${decimalB.toFixed(8).replace(/\.?0+$/, '')} = ${result.toFixed(8).replace(/\.?0+$/, '')}</div>
                         <div>3. Convert back to binary: ${result.toFixed(8).replace(/\.?0+$/, '')} = ${binaryResult}</div>
                         <br>
                         <div><strong>Final Result:</strong> ${binaryResult}</div>
                         <div style="color: #10b981; margin-top: 10px;">
                             <strong>Note:</strong> For decimal binary numbers, we use decimal conversion method
                         </div>
                     </div>`;
                return;
            }
            
            // Make both numbers the same length
            const maxLen = Math.max(inputA.length, inputB.length);
            const A = inputA.padStart(maxLen, '0');
            const B = inputB.padStart(maxLen, '0');
            
            // Calculate 2's complement of B
            let onesCompB = '';
            for (let i = 0; i < B.length; i++) {
                onesCompB += B[i] === '0' ? '1' : '0';
            }
            
            let twosCompB = '';
            let carry = 1;
            for (let i = onesCompB.length - 1; i >= 0; i--) {
                const sum = parseInt(onesCompB[i]) + carry;
                twosCompB = (sum % 2) + twosCompB;
                carry = Math.floor(sum / 2);
            }
            
            // Add A + 2's complement of B
            let result = '';
            carry = 0;
            for (let i = A.length - 1; i >= 0; i--) {
                const sum = parseInt(A[i]) + parseInt(twosCompB[i]) + carry;
                result = (sum % 2) + result;
                carry = Math.floor(sum / 2);
            }
            
            const decimalA = parseInt(A, 2);
            const decimalB = parseInt(B, 2);
            const decimalResult = decimalA - decimalB;
            
            document.getElementById('subResult').innerHTML = 
                `<h4>2's Complement Subtraction: ${A} - ${B}</h4>
                 <div class="space-y">
                     <p><strong>Step 1:</strong> 1's complement of ${B} = ${onesCompB}</p>
                     <p><strong>Step 2:</strong> Add 1 to get 2's complement = ${twosCompB}</p>
                     <p><strong>Step 3:</strong> ${A} + ${twosCompB} = ${result}</p>
                     <p><strong>Result:</strong> ${result}</p>
                     <p><strong>Decimal check:</strong> ${decimalA} - ${decimalB} = ${decimalResult}</p>
                     ${carry ? '<p style="color: #10b981;"><strong>Carry out ignored</strong> (positive result)</p>' : ''}
                 </div>`;
        }





        // Start with an example
        document.getElementById('inputNumber').value = '42';
        convertNumber();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9693604c36e359e7',t:'MTc1NDE5ODUzNS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>



